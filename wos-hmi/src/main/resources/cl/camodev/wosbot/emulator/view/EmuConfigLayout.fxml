<?xml version="1.0" encoding="UTF-8"?>

<?import java.lang.*?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<VBox stylesheets="@../../../../../styles/style.css" maxHeight="1.7976931348623157E308" maxWidth="1.7976931348623157E308" xmlns="http://javafx.com/javafx/17.0.12" xmlns:fx="http://javafx.com/fxml/1" VBox.vgrow="ALWAYS">

        <!-- Scrollable content with cards, following PetsLayout style -->
        <ScrollPane fitToWidth="true" hbarPolicy="NEVER" style="-fx-background-color: transparent; -fx-background: transparent;" vbarPolicy="AS_NEEDED" VBox.vgrow="ALWAYS" styleClass="sidebar-scroll">
                <VBox spacing="14" styleClass="events-content" VBox.vgrow="ALWAYS">

                        <VBox  maxWidth="1.7976931348623157E308" style="-fx-padding: 0 0 14 0;">

                                <!-- TableView moved to be direct child of .card so it aligns with card edges -->
                                <TableView fx:id="tableviewEmulators"  prefHeight="190.0" minHeight="190.0" maxHeight="190.0" maxWidth="1.7976931348623157E308" VBox.vgrow="ALWAYS">
                                    <columns>
                                        <TableColumn fx:id="tableColumnActive" maxWidth="80.0" minWidth="80.0" text="ACTIVE" />
                                        <TableColumn fx:id="tableColumnEmulatorName" prefWidth="120.0" text="EMULATOR" />
                                        <TableColumn fx:id="tableColumnEmulatorPath" prefWidth="400.0" text="PATH" />
                                        <TableColumn fx:id="tableColumnEmulatorAction" maxWidth="80.0" minWidth="80.0" text="ACTION" />
                                    </columns>
                                    <columnResizePolicy>
                                        <TableView fx:constant="CONSTRAINED_RESIZE_POLICY" />
                                    </columnResizePolicy>
                                    <styleClass>
                                        <String fx:value="wos-table" />
<!--                                        <String fx:value="flat-bottom" />-->
                                    </styleClass>
                                </TableView>
                        </VBox>

                        <!-- Two-column layout for Game Settings and Instance Settings (equal height) -->
                        <GridPane hgap="14" vgap="14" maxWidth="1.7976931348623157E308">
                            <columnConstraints>
                                <ColumnConstraints percentWidth="50" hgrow="ALWAYS" />
                                <ColumnConstraints percentWidth="50" hgrow="ALWAYS" />
                            </columnConstraints>
                            <rowConstraints>
                                <RowConstraints vgrow="ALWAYS" />
                                <RowConstraints minHeight="48.0" vgrow="NEVER" />
                            </rowConstraints>

                            <VBox GridPane.columnIndex="0" GridPane.rowIndex="0" spacing="0" styleClass="card" VBox.vgrow="ALWAYS" maxWidth="1.7976931348623157E308">
                                <HBox alignment="CENTER_LEFT" maxWidth="1.7976931348623157E308" style="-fx-background-color: linear-gradient(#ffe082, #ffb300); -fx-background-radius: 8 8 0 0; -fx-padding: 8 12;">
                                    <Label style="-fx-font-weight: bold; -fx-text-fill: #1c1c1c;" text="Instance Settings" />
                                </HBox>
                                <VBox spacing="8" styleClass="card-body" VBox.vgrow="ALWAYS">
                                    <Label style="-fx-font-size: 10px; -fx-text-fill: #b5b5b5;" text="Settings related to emulator instances" wrapText="true" />
                                    <Separator style="-fx-opacity: 0.3; -fx-padding: 4 0;" />
                                    <GridPane hgap="12" vgap="10">
                                        <columnConstraints>
                                            <ColumnConstraints percentWidth="35" />
                                            <ColumnConstraints percentWidth="65" />
                                        </columnConstraints>

                                        <!-- Idle Behavior moved to first row -->
                                        <Label text="Idle Behavior" GridPane.columnIndex="0" GridPane.rowIndex="0" />
                                        <ComboBox fx:id="comboboxIdleBehavior" GridPane.columnIndex="1" GridPane.rowIndex="0" GridPane.hgrow="ALWAYS" maxWidth="1.7976931348623157E308">
                                            <styleClass>
                                                <String fx:value="combo-dark" />
                                            </styleClass>
                                        </ComboBox>

                                        <!-- Max Idle Time moved to second row -->
                                        <Label text="Max Idle Time (minutes)" GridPane.columnIndex="0" GridPane.rowIndex="1" />
                                        <TextField fx:id="textfieldMaxIdleTime" GridPane.columnIndex="1" GridPane.rowIndex="1" GridPane.hgrow="ALWAYS" maxWidth="1.7976931348623157E308">
                                            <styleClass>
                                                <String fx:value="combo-dark" />
                                            </styleClass>
                                        </TextField>

                                        <Label text="Max Concurrent Instances" GridPane.columnIndex="0" GridPane.rowIndex="2" />
                                        <TextField fx:id="textfieldMaxConcurrentInstances" GridPane.columnIndex="1" GridPane.rowIndex="2" GridPane.hgrow="ALWAYS" maxWidth="1.7976931348623157E308">
                                            <styleClass>
                                                <String fx:value="combo-dark" />
                                            </styleClass>
                                        </TextField>
                                    </GridPane>
                                </VBox>
                            </VBox>

                            <VBox GridPane.columnIndex="1" GridPane.rowIndex="0" spacing="0" styleClass="card" VBox.vgrow="ALWAYS" maxWidth="1.7976931348623157E308">
                                <HBox alignment="CENTER_LEFT" maxWidth="1.7976931348623157E308" style="-fx-background-color: linear-gradient(#4dd0e1, #0097a7); -fx-background-radius: 8 8 0 0; -fx-padding: 8 12;">
                                    <Label style="-fx-font-weight: bold; -fx-text-fill: #1c1c1c;" text="Game Settings" />
                                </HBox>
                                <VBox spacing="8" styleClass="card-body" VBox.vgrow="ALWAYS">
                                    <Label style="-fx-font-size: 10px; -fx-text-fill: #b5b5b5;" text="Game specific configuration" wrapText="true" />
                                    <Separator style="-fx-opacity: 0.3; -fx-padding: 4 0;" />
                                    <GridPane hgap="12" vgap="10">
                                        <columnConstraints>
                                            <ColumnConstraints percentWidth="35" />
                                            <ColumnConstraints percentWidth="65" />
                                        </columnConstraints>
                                        <Label text="Game Version" GridPane.columnIndex="0" GridPane.rowIndex="0" />
                                        <ComboBox fx:id="comboboxGameVersion" disable="true" GridPane.columnIndex="1" GridPane.rowIndex="0" GridPane.hgrow="ALWAYS" maxWidth="1.7976931348623157E308">
                                            <styleClass>
                                                <String fx:value="combo-dark" />
                                            </styleClass>
                                        </ComboBox>
                                    </GridPane>
                                </VBox>
                            </VBox>

                            <HBox GridPane.columnIndex="1" GridPane.rowIndex="1" alignment="CENTER_RIGHT" spacing="0">
                                <Button fx:id="buttonSaveConfiguration" text="Save Configuration">
                                    <styleClass>
                                        <String fx:value="btn-start" />
                                    </styleClass>
                                </Button>
                            </HBox>

                        </GridPane>
                </VBox>
        </ScrollPane>

</VBox>
